<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ex3_juminCheck.html</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    'use strict';

    function jumin1Check(){
      let jumin1 = document.getElementById("juminF").value;
      if(jumin1.length == 6) document.getElementById("juminB").focus();
    }
    
    function jumin2Check(){
      if(window.event.keyCode == 13) juminCheck();
    }
    
    function juminCheck(){
      let juminF = document.getElementById("juminF").value;
      let juminB = document.getElementById("juminB").value;
      const check1 = [2,3,4,5,6,7];
      const check2 = [8,9,2,3,4,5];
      let tot = 0;
    
      for(let i=0; i<check1.length; i++){
        tot += juminF.charAt(i)*check1[i];
      }
      for(let i=0; i<check2.length; i++){
        tot += juminB.charAt(i)*check2[i];
      }

      tot = tot % 11;
      if(tot >= 10){
        tot = tot/10;
      }

      let na = 11-tot;
      
      if(na == juminB.charAt(6)){
        alert("대한민국 국적입니다.");
      }
      else{
        alert("대한민국 국적이 아닙니다.");
      }
    }
    
  </script>
</head>
<body>
  <!-- 주민번호 체크하기
  준비물: 비교할 값을 준비한다.(234567892345)
  1. 자신의 주민번호 앞에서 12자리의 각각의 숫자와 준비한 숫자를 각각 곱한 후 더해준다
  2. 결과값 / 11의 나머지를 구한다.
  3. 11에서 나머지 뺀다. 
  4. 결과값이 10이상이면 1의자리 숫자만 구한 후 -->
<p><br/></p>
<div class="container">
  <h2>주민번호 체크하기</h2>
  <div>
    <div>주민번호 앞<input type="text" name="juminF" id="juminF" maxlength="6" onkeyup="jumin1Check()" class="form-control mb-2"></div>
    <div>주민번호 뒤<input type="password" name="juminB" id="juminB" maxlength="7" onkeyup="jumin2Check()" class="form-control mb-2"></div>
  </div>
  <div>
    <div><input type="button" value="검사" onclick="juminCheck()" class="btn btn-success"></div>
  </div>
</div>
</body>
</html>